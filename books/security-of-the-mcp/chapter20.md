---
title: ""
---

!!!MCP Server 側の抽象実装!!!

パターンをいくつか提示する

mitigation strategy のやつを紹介しながら抽象実装を提示する。


新たなMCPの脅威に対する防御
MCPエコシステムで新たに出現する脅威の多くは、悪意のあるサーバーがエージェントを騙し、MCPサーバーがユーザーの意図と矛盾するアクションを実行させようとするものです。これらの攻撃は、多くの場合、サーバーからクライアントに送信される有害なデータから始まります。

これを軽減するには、すべての MCP クライアント トラフィックを 1 つの接続エンドポイント、MCP ゲートウェイ、またはコンテナ上に構築されたプロキシ経由でルーティングすることをお勧めします。MCPサーバーを空港の乗客のように考えてください:1つの集中セキュリティチェックポイント(ゲートウェイ)を確立することで、飛行機に搭乗する前に全員がスクリーニングされることを保証します(MCPクライアント)。このゲートウェイは、MCP ラグ プル攻撃、MCP シャドウイング、ツール ポイズニングなどの脅威を早期に検出して阻止できる重要なインターフェイスになります。軽減策には以下が含まれます。

MCP ラグプル: ユーザーの同意後にサーバーがツールの説明を変更できないようにします。新しいバージョンが導入された場合、クライアントは再認証する必要があります。
MCP Shadowing: 意味的に近い説明を持つ一連のツールにアクセスできるエージェント セッション、または完全な競合を検出します。
ツールポイズニング: ヒューリスティックまたはシグネチャベースのスキャンを使用して、ポイズニング攻撃でよく見られる操作プロンプトや誤解を招く機能など、ツールメタデータの疑わしいパターンを検出します。

https://www.docker.com/ja-jp/blog/whats-next-for-mcp-security/

Docker で公式サポートされて Verify もついてる、Client も絞っているので、これを強制する、というのもまああり。
Docker Hub で Docker 形式での配布という制約を受ける。

https://qiita.com/RepKuririn/items/195e7288ed28eebf06d1a


fargate の sidecar パターンにする